Okay so what I did is 

right now it's really wrong so i'm trying to bugfix for errors

Wait I think I /know/ what's wrong, fuck

But yeah, right now I have most of the E_fit stuff coded, I just forgot to take the derivative of C(t) and used the raw values no wonder it's wrong 

and i have the brute force minimization of e_fit technically written but it's so slow right now, most of that's commented out right now

but I do have a preliminary result where I just took the values of C(t) and applied them to the picture; the umbra area got the average of all the values of c found through C(t)

it's kinda rough, though

E_sm is set up too but entirely untested and unminimized

Edit: set up C(t) to return a derivative as an option now